(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b81d47d4"],{1276:function(t,n,e){"use strict";var r=e("d784"),a=e("44e7"),i=e("825a"),c=e("1d80"),o=e("4840"),u=e("8aa5"),s=e("50c4"),p=e("14c3"),l=e("9263"),f=e("d039"),d=[].push,h=Math.min,g=4294967295,v=!f((function(){return!RegExp(g,"y")}));r("split",2,(function(t,n,e){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(c(this)),i=void 0===e?g:e>>>0;if(0===i)return[];if(void 0===t)return[r];if(!a(t))return n.call(r,t,i);var o,u,s,p=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,f+"g");while(o=l.call(v,r)){if(u=v.lastIndex,u>h&&(p.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&d.apply(p,o.slice(1)),s=o[0].length,h=u,p.length>=i))break;v.lastIndex===o.index&&v.lastIndex++}return h===r.length?!s&&v.test("")||p.push(""):p.push(r.slice(h)),p.length>i?p.slice(0,i):p}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,e){var a=c(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,e):r.call(String(a),n,e)},function(t,a){var c=e(r,t,this,a,r!==n);if(c.done)return c.value;var l=i(t),f=String(this),d=o(l,RegExp),m=l.unicode,b=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),_=new d(v?l:"^(?:"+l.source+")",b),w=void 0===a?g:a>>>0;if(0===w)return[];if(0===f.length)return null===p(_,f)?[f]:[];var x=0,y=0,k=[];while(y<f.length){_.lastIndex=v?y:0;var j,O=p(_,v?f:f.slice(y));if(null===O||(j=h(s(_.lastIndex+(v?0:y)),f.length))===x)y=u(f,y,m);else{if(k.push(f.slice(x,y)),k.length===w)return k;for(var R=1;R<=O.length-1;R++)if(k.push(O[R]),k.length===w)return k;y=x=j}}return k.push(f.slice(x)),k}]}),!v)},"184a":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"info"},[e("div",{staticClass:"header"},[e("van-icon",{attrs:{name:"arrow-left"},on:{click:function(n){return t.$router.go(-1)}}}),e("p",[t._v("个人信息")]),e("p")],1),e("ul",{staticClass:"ul-box"},[e("li",{on:{click:function(n){return t.toggle("img")}}},[e("span",[t._v("头像")]),e("span",[e("img",{attrs:{src:t.userinfo.avatar,alt:""}})])]),e("li",{on:{click:function(n){return t.toggle("nickname")}}},[e("span",[t._v("昵称")]),e("span",[t._v(t._s(t.userinfo.nickname))])]),e("li",[e("span",[t._v("手机号")]),e("span",[t._v(t._s(t.userinfo.mobile))])]),e("li",{on:{click:function(n){return t.toggle("sex")}}},[e("span",[t._v("性别")]),e("span",[t._v(t._s(0==t.userinfo.sex?"男":"女"))])]),e("li",{on:{click:function(n){return t.toggle("birthday")}}},[e("span",[t._v("出生日期")]),e("span",[t._v(t._s(t.userinfo.birthday))])]),e("li",{on:{click:function(n){return t.toggle("city")}}},[e("span",[t._v("所在城市")]),e("span",[t._v(t._s(t.userinfo.province_name)+"-"+t._s(t.userinfo.city_name)+"-"+t._s(t.userinfo.district_name))])]),e("li",{attrs:{id:"attr"},on:{click:function(n){return t.toggle("subjects")}}},[e("span",[t._v("学科")]),e("p",t._l(t.userinfo.attr,(function(n){return e("span",{key:n.attr_id,staticStyle:{margin:"0"}},[t._v(t._s(n.attr_value))])})),0)]),e("li",{on:{click:function(n){return t.toggle("grade")}}},[e("span",[t._v("年级")]),e("span",[t._v(t._s(t.t))])])]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},["img"==t.tag?e("ul",{staticClass:"photo"},[e("li",[t._v(" 拍照 "),e("input",{attrs:{type:"file",accept:"image/*",capture:"camera",id:"takePhoto"},on:{change:t.takePhoto}})]),e("li",[t._v(" 从手机相册中选择 "),e("input",{attrs:{type:"file",accept:"image/*",id:"takePhoto"},on:{change:t.takePhoto}})]),e("li",{on:{click:function(n){t.show=!1}}},[t._v("取消")])]):t._e(),"city"==t.tag?e("van-area",{attrs:{"area-list":t.areaList,value:t.userinfo.district_id+""},on:{change:t.onChange,confirm:t.queding}}):t._e(),"grade"==t.tag?e("van-area",{attrs:{"area-list":t.arrealist,"columns-num":"1"},on:{confirm:t.onConfirm}}):t._e(),"birthday"==t.tag?e("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onConfirm,cancel:t.cancel},model:{value:t.currentDate,callback:function(n){t.currentDate=n},expression:"currentDate"}}):t._e()],1)],1)},a=[],i=(e("a15b"),e("d81d"),e("b0c0"),e("ac1f"),e("1276"),e("96cf"),e("1da1")),c=e("ade3"),o=e("261e"),u={name:"",props:[],components:{},data:function(){return Object(c["a"])({id:"",cityShow:!1,show:!1,nickname:"",userinfo:[],cityEdit:[],path:"",nianji:[],tag:"",arrealist:{province_list:{}},arr:[],t:"",currentDate:new Date,minDate:new Date(1890,0,1),maxDate:new Date,user:[],areaList:{city_list:{},province_list:{},county_list:{}}},"cityEdit",[])},computed:{},watch:{},methods:{showPopup:function(){this.show=!0},info:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(o["e"])();case 2:e=n.sent,t.userinfo=e.data,console.log(t.userinfo),t.t=e.data.attr[0].attr_value;case 6:case"end":return n.stop()}}),n)})))()},takePhoto:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("file",t.target.files[0]),e.next=4,Object(o["b"])(r);case 4:if(a=e.sent,console.log(a),200!=a.code){e.next=14;break}return n.path=a.data.path,e.next=10,Object(o["d"])({avatar:n.path});case 10:n.info(),n.show=!1,e.next=16;break;case 14:n.$toast(a.msg),n.show=!1;case 16:case"end":return e.stop()}}),e)})))()},toggle:function(t){this.tag=t,"img"==t?this.show=!0:"nickname"==t?this.$router.push({path:"/set-info",query:{tag:"nickname",value:this.userinfo.nickname}}):"sex"==t?this.$router.push({path:"/set-info",query:{tag:"sex",value:this.userinfo.sex}}):"birthday"==t?this.show=!0:"city"==t?(this.show=!0,this.city()):"subjects"==t?this.$router.push({path:"/set-info",query:{tag:"subjects",value:this.userinfo.attr}}):"grade"==t&&(this.show=!0)},city:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,r,a,i,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(o["c"])();case 2:return e=n.sent,r=e.data,t.cityShow=!0,console.log(r),t.areaList.province_list=t.zhuanghuan(r),n.next=9,Object(o["c"])(t.userinfo.province_id?t.userinfo.province_id:data[0].id);case 9:return a=n.sent,i=a.data,console.log(i),t.areaList.city_list=t.zhuanghuan(i),console.log(t.areaList.city_list),n.next=16,Object(o["c"])(t.userinfo.city_id?t.userinfo.city_id:i[0].id);case 16:c=n.sent,u=c.data,t.areaList.county_list=t.zhuanghuan(u);case 19:case"end":return n.stop()}}),n)})))()},onChange:function(t,n,e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,c,u,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(n),console.log(e),t.t0=e,t.next=0===t.t0?5:1===t.t0?16:22;break;case 5:return t.next=7,Object(o["c"])(n[e].code);case 7:return a=t.sent,i=a.data,r.areaList.city_list=r.zhuanghuan(i),t.next=12,Object(o["c"])(i[0].id);case 12:return c=t.sent,u=c.data,r.areaList.county_list=r.zhuanghuan(u),t.abrupt("break",22);case 16:return t.next=18,Object(o["c"])(n[1].code);case 18:return s=t.sent,p=s.data,r.areaList.county_list=r.zhuanghuan(p),t.abrupt("break",22);case 22:case"end":return t.stop()}}),t)})))()},attribute:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(o["a"])();case 2:e=n.sent,r=e.data,t.nianji=r[0].value,r[0].value.map((function(n){t.$set(t.arrealist.province_list,n.id,n.name)}));case 6:case"end":return n.stop()}}),n)})))()},onConfirm:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("grade"!=n.tag){e.next=8;break}n.arr=[],t.map((function(t){n.arr.push({attr_id:1,attr_val_id:t.code})})),r=Object(o["d"])({user_attr:JSON.stringify(n.arr)}),r.data,n.info(),n.show=!1,e.next=21;break;case 8:if("birthday"!=n.tag){e.next=21;break}if(console.log(t),t.toLocaleDateString()!=n.nowdate){e.next=14;break}n.$toast("出生日期最少是当前日期的前一天"),e.next=21;break;case 14:return n.birthdate=t.toLocaleDateString().split("/").join("-"),e.next=17,Object(o["d"])({birthday:n.birthdate});case 17:a=e.sent,a.data,n.show=!1,n.info();case 21:case"end":return e.stop()}}),e)})))()},cancel:function(){this.show=!1},zhuanghuan:function(t){for(var n={},e=0;e<t.length;e++)n[t[e].id]=t[e].area_name;return n},queding:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={city_id:t[1].code,district_id:t[2].code,province_id:t[0].code},e.next=3,Object(o["d"])(r);case 3:a=e.sent,200==a.code&&(n.show=!1,n.info()),console.log(a);case 6:case"end":return e.stop()}}),e)})))()}},created:function(){},mounted:function(){this.info(),this.attribute()}},s=u,p=(e("bc43"),e("2877")),l=Object(p["a"])(s,r,a,!1,null,"597ae0d0",null);n["default"]=l.exports},"261e":function(t,n,e){"use strict";e.d(n,"f",(function(){return o})),e.d(n,"h",(function(){return u})),e.d(n,"g",(function(){return s})),e.d(n,"m",(function(){return p})),e.d(n,"e",(function(){return l})),e.d(n,"d",(function(){return f})),e.d(n,"a",(function(){return d})),e.d(n,"b",(function(){return h})),e.d(n,"n",(function(){return g})),e.d(n,"u",(function(){return v})),e.d(n,"w",(function(){return m})),e.d(n,"v",(function(){return b})),e.d(n,"p",(function(){return _})),e.d(n,"q",(function(){return w})),e.d(n,"l",(function(){return x})),e.d(n,"x",(function(){return y})),e.d(n,"k",(function(){return k})),e.d(n,"i",(function(){return j})),e.d(n,"t",(function(){return O})),e.d(n,"o",(function(){return R})),e.d(n,"s",(function(){return D})),e.d(n,"r",(function(){return C})),e.d(n,"j",(function(){return L})),e.d(n,"c",(function(){return P}));e("d3b7");var r=e("be3b");function a(t,n){return new Promise((function(e,a){r["a"].get(t,{params:n}).then((function(t){e(t.data)})).catch((function(t){a(t.data)}))}))}function i(t,n){return new Promise((function(e,a){r["a"].post(t,n).then((function(t){e(t.data)})).catch((function(t){a(t.data)}))}))}function c(t,n){return new Promise((function(e,a){r["a"].put(t,n).then((function(t){e(t.data)})).catch((function(t){a(t.data)}))}))}var o=function(t){return i("/api/app/login",t)},u=function(t){return i("/api/app/smsCode",t)},s=function(t){return i("/api/app/password",t)},p=function(t){return a("/api/app/getUCenterInfo?",t)},l=function(t){return a("/api/app/userInfo",t)},f=function(t){return c("/api/app/user",t)},d=function(t){return a("/api/app/module/attribute/1?",t)},h=function(t){return i("/api/app/public/img",t)},g=function(t){return a("/api/app/collect",t)},v=function(t){return c("api/app/collect/cancel/".concat(t,"/2"))},m=function(t){return a("/api/app/collect",t)},b=function(t){return c("/api/app/collect/cancel/".concat(t,"/1"))},_=function(t){return i("/api/app/message/classifyMessage",t)},w=function(t){return i("/api/app/message/getMessage",t)},x=function(t){return i("/api/app/feedback",t)},y=function(t){return a("/api/app/vip/grade",t)},k=function(t){return i("/api/app/order/downOrder",t)},j=function(t){return a("/api/app/coin/coinRank",t)},O=function(t){return i("/api/app/pay",t)},R=function(t){return a("/api/app/coin/item",t)},D=function(t){return a("/api/app/myStudy/".concat(t,"?"))},C=function(t){return i("/api/app/myOrder",t)},L=function(t){return i("/api/app/myOrder/detail",t)},P=function(t){return a("/api/app/sonArea/"+t)}},"44e7":function(t,n,e){var r=e("861d"),a=e("c6b6"),i=e("b622"),c=i("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[c])?!!n:"RegExp"==a(t))}},a15b:function(t,n,e){"use strict";var r=e("23e7"),a=e("44ad"),i=e("fc6a"),c=e("a640"),o=[].join,u=a!=Object,s=c("join",",");r({target:"Array",proto:!0,forced:u||!s},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},ade3:function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,"a",(function(){return r}))},bc43:function(t,n,e){"use strict";var r=e("ff9e"),a=e.n(r);a.a},d81d:function(t,n,e){"use strict";var r=e("23e7"),a=e("b727").map,i=e("1dde"),c=e("ae40"),o=i("map"),u=c("map");r({target:"Array",proto:!0,forced:!o||!u},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},ff9e:function(t,n,e){}}]);
//# sourceMappingURL=chunk-b81d47d4.6130f83b.js.map